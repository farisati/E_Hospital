{% extends 'doctor/doctor_base.html' %}
{% block content %}
<div class="container mt-4">
  <h3>Add Medical Record</h3>
  <form method="post">{% csrf_token %}
    {% if appointment %}
      <p>For appointment: {{ appointment.date }} {{ appointment.time }} - {{ appointment.patient.get_full_name }}</p>
      <input type="hidden" name="patient" value="{{ appointment.patient.pk }}">
    {% else %}
      <div class="form-group">
        <label>Patient ID</label>
        <input class="form-control" name="patient" placeholder="Enter patient user id">
        <small class="form-text text-muted">You can supply patient user id or integrate with your patient search UI.</small>
      </div>
    {% endif %}

    <div class="form-group">
      <label>Diagnosis</label>
      <input class="form-control" name="diagnosis">
    </div>

    <div class="form-group">
      <label>Notes</label>
      <textarea class="form-control" name="notes"></textarea>
    </div>

    <div class="form-group">
      <label>Allergies</label>
      <textarea class="form-control" name="allergies"></textarea>
    </div>

    <div class="form-group">
      <label>Medications</label>
      <textarea class="form-control" name="medications"></textarea>
    </div>

    <hr>
    <h5>Optional Prescription</h5>
    <div class="form-group">
      <label>Medication text</label>
      <textarea class="form-control" name="medication"></textarea>
    </div>
    <div class="form-group">
      <label>Instructions</label>
      <textarea class="form-control" name="instructions"></textarea>
    </div>

    <button class="btn btn-primary" type="submit">Save Record</button>
  </form>
</div>
{% endblock %}
